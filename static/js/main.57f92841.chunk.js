(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{177:function(e,t,n){e.exports=n.p+"static/media/pokemon-logo.023d617a.png"},193:function(e,t,n){e.exports=n.p+"static/media/pokeball.bc656300.gif"},194:function(e,t,n){e.exports=n.p+"static/media/no-image.085f0984.jpg"},202:function(e,t,n){e.exports=n(283)},282:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),l=n(46),i=n(175),u=n(47),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var d=n(56),f=n(142),p=n(176),h=n.n(p),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"storePokemonList":return t.data;default:return e}},b=n(119),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"storeMyPokemonList":return[].concat(Object(b.a)(e),Object(b.a)(t.data));case"replaceMyPokemonList":return Object(b.a)(t.data);default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"storeTotalOwnedPokemon":return Object.assign({},e,t.data);default:return e}},k={key:"root",storage:h.a},O=Object(d.b)({pokemonList:E,myPokemonList:v,totalOwned:g}),w=Object(f.a)(k,O),x=Object(d.c)(w),j=Object(f.b)(x),y=n(31),N=n(24),P=n(40),L=n(48),T=n(284),M=n(118),S=n(294),C={HOME:"".concat("/"),POKEMON:"".concat("/","pokemon"),MY_POKEMON_LIST:"".concat("/","my-pokemon-list")},I=n(177),_=n.n(I),B=n(18),F=n(20);function K(){var e=Object(B.a)(["\n    cursor: pointer;\n    &:hover {\n        color: ","\n    }\n"]);return K=function(){return e},e}function D(){var e=Object(B.a)(["\n    text-transform: capitalize;\n    color: ",";\n    &:hover {\n        color: ",";\n    }\n"]);return D=function(){return e},e}function W(){var e=Object(B.a)(["\n    display: flex;\n    width: 100%;\n    border-bottom: 1px solid ",";\n    background-color: ",";\n    \n    @media (max-width: 992px) {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        z-index: 99;\n        box-shadow: 0 0 5px 1px ",";\n    }\n\n    .tabpane {\n        padding: 12px 0;\n        width: 50%;\n        text-align: center;\n\n        a {\n            color: ",";\n\n            &:focus, &:active {\n                font-weight: bold;\n                text-decoration: underline;\n            }\n        }\n\n        &.active {\n            a {\n                font-weight: bold;\n                text-decoration: underline;\n            }\n        }\n    }\n\n    .tabpane-divider {\n        border-right: 1px solid ",";\n    }\n"]);return W=function(){return e},e}var Y=F.a.div(W(),"#dbe0e4","#FFFFFF","#8a8a8a","#f65e2f","#dbe0e4"),A=F.a.h3(D(),"#f65e2f","#e74615"),q=F.a.span(K(),"#000000");var z=function(){var e=Object(a.useContext)(ze).title,t="Pokemon Detail"===e;Object(a.useEffect)((function(){var e=document.querySelector("#header"),t=e.offsetTop;function n(){window.scrollY>t?e.classList.add("header--onscroll"):e.classList.remove("header--onscroll")}return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}),[]);var n=r.a.createElement(L.a,{id:"menu"},r.a.createElement(L.a.Item,null,r.a.createElement(N.c,{to:C.HOME},"Pokemon List")),r.a.createElement(L.a.Item,null,r.a.createElement(N.c,{to:C.MY_POKEMON_LIST},"My Pokemon List")));return r.a.createElement("div",null,r.a.createElement(T.a.Header,{id:"header"},!t&&r.a.createElement(N.a,null,r.a.createElement(M.a,{overlay:n,trigger:["click"]},r.a.createElement("a",{href:"/",className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},r.a.createElement(S.a,null)))),r.a.createElement("div",{className:"header-title"},r.a.createElement("span",null,e)),r.a.createElement("img",{src:_.a,className:"header-logo",alt:"logo"})),!t&&r.a.createElement(Y,null,r.a.createElement("div",{className:"tabpane".concat("Pokemon List"===e?" active":"")},r.a.createElement("h3",null,r.a.createElement(N.c,{to:C.HOME},"Pokemon List"))),r.a.createElement("div",{className:"tabpane-divider"}),r.a.createElement("div",{className:"tabpane".concat("My Pokemon List"===e?" active":"")},r.a.createElement("h3",null,r.a.createElement(N.c,{to:C.MY_POKEMON_LIST},"My Pokemon List")))))};var $=function(){return r.a.createElement(T.a.Footer,null,r.a.createElement("span",null,"Copyright \xa9 Shanti Setiani 2020"))},H=n(43),J=n.n(H),R=n(76),U=n(285);function Q(){var e=Object(B.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      count\n      next\n      previous\n      status\n      message\n      results {\n        url\n        name\n        image\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var G=Object(u.gql)(Q()),V=n(196);function X(){var e=Object(B.a)(["\n        height: ","px;\n        width: 100%;\n    "]);return X=function(){return e},e}var Z=function(e){var t=F.a.div(X(),e.height);return r.a.createElement(t,null)};function ee(){var e=Object(B.a)(["\n        float: right;\n    "]);return ee=function(){return e},e}var te=function(e){var t=Object(F.a)(V.a)(ee());return r.a.createElement("div",null,r.a.createElement(Z,{height:20}),r.a.createElement(t,{showQuickJumper:!0,current:e.page,total:e.totalData,onChange:function(t){return e.goTo(t)}}),r.a.createElement(Z,{height:50}))};var ne=function(e){var t=Object(l.c)((function(e){return e})),n=Object(P.f)(),o=Object(a.useContext)(ze),c=Object(a.useState)(0),i=Object(y.a)(c,2),s=i[0],m=i[1],d=Object(a.useState)(1),f=Object(y.a)(d,2),p=f[0],h=f[1],E=Object(a.useState)([]),b=Object(y.a)(E,2),v=b[0],g=b[1],k=Object(a.useState)(!1),O=Object(y.a)(k,2),w=O[0],x=O[1],j=function(e){var t=Object(u.useQuery)(G,{variables:e}),n=t.loading,a=t.error,r=t.data;return n?"Loading...":a?"Error! ".concat(a.message):r.pokemons}({limit:10,offset:s});Object(a.useEffect)((function(){x(!0),o.changeTitle("Pokemon List");var e=window.location.hash.split("?");if(e[1]){var t=e[1].split("=")[1];h(t),m(10*t-10)}x(!1)}),[]),Object(a.useEffect)((function(){var e=document.getElementsByClassName("ant-pagination-item-".concat(p))[0];e&&e.classList.add("ant-pagination-item-active")})),Object(a.useEffect)((function(){j&&L()}),[j]);var L=function(){if(j.results&&t.totalOwned){var e=JSON.parse(JSON.stringify(j.results));e.forEach((function(e){t.totalOwned[e.name]&&(e.totalOwned=t.totalOwned[e.name],Object.preventExtensions(e))})),g(e)}},T=function(){var e=Object(R.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Math.floor(j.count/10),j.count%10>0&&(a+=1),"next"!==t){e.next=6;break}p!==a&&(h(p+1),m(p+10)),e.next=13;break;case 6:if("prev"!==t){e.next=10;break}0!==p&&(h(p-1),m(p-10)),e.next=13;break;case 10:return e.next=12,h(t);case 12:m(10*t-10);case 13:n.push("?page=".concat(t));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"pokemon-list"},v&&r.a.createElement(U.a,{dataSource:v,columns:[{title:"Pokemon Name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement(N.a,null,r.a.createElement(N.c,{to:"".concat(C.POKEMON,"/detail/").concat(e)},r.a.createElement(A,null,e)))}},{title:"Total Owned",dataIndex:"totalOwned",key:"totalOwned",render:function(e){return r.a.createElement("span",null,e||0)}}],pagination:!1,loading:w}),r.a.createElement(te,{totalData:j.count,page:p,goTo:T}))},ae=n(100),re=n(298),oe=n(286),ce=n(41),le=n(288),ie=n(289),ue=n(287),se=n(290),me=n(192),de=n.n(me),fe=function(e){return{type:"storeTotalOwnedPokemon",data:e}};function pe(){var e=Object(B.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      sprites {\n        front_default\n      }\n      moves {\n        move {\n          name\n        }\n      }\n      types {\n        type {\n          name\n        }\n      }\n    }\n  }\n"]);return pe=function(){return e},e}var he=Object(u.gql)(pe()),Ee=n(193),be=n.n(Ee),ve=n(194),ge=n.n(ve);function ke(){var e=Object(B.a)(["\n    color: ",";\n    font-size: 12px;\n"]);return ke=function(){return e},e}function Oe(){var e=Object(B.a)(["\n    float: right;\n    font-weight: bold;\n    font-size: ",";\n"]);return Oe=function(){return e},e}function we(){var e=Object(B.a)(["\n    float: left;\n    font-weight: bold;\n    font-size: ",";\n"]);return we=function(){return e},e}function xe(){var e=Object(B.a)(["\n    width: 100%;\n    color: ",";\n\n    @media (min-width: 993px) {\n        margin-bottom: 30px;\n    }\n"]);return xe=function(){return e},e}function je(){var e=Object(B.a)(["\n    position: fixed;\n    bottom: 0;\n    background-color: #FFF;\n    width: 100%;\n    box-shadow: 0 0 5px 1px ",";\n    padding: 20px 10px;\n\n    @media (min-width: 993px) {\n        width: 30%;\n        right: 15px;\n        bottom: 15%;\n    }\n\n    button {\n        width: 100%;\n        height: 40px;\n        border-radius: 20px;\n    }\n"]);return je=function(){return e},e}function ye(){var e=Object(B.a)(["\n    display: list-item;\n    list-style-type: disc;\n    list-style-position: inside;\n    text-transform: capitalize;\n"]);return ye=function(){return e},e}function Ne(){var e=Object(B.a)(["\n    padding: 25px 30px 30px;\n    border-bottom: 1px solid ",";\n"]);return Ne=function(){return e},e}function Pe(){var e=Object(B.a)(["\n    width: 100%;\n    max-width: 300px;\n"]);return Pe=function(){return e},e}function Le(){var e=Object(B.a)(["\n    display: block;\n    text-align: center;\n"]);return Le=function(){return e},e}var Te=F.a.span(Le()),Me=F.a.img(Pe()),Se=F.a.section(Ne(),"#dbe0e4"),Ce=F.a.span(ye()),Ie=F.a.div(je(),"#8a8a8a"),_e=F.a.div(xe(),"#000000"),Be=F.a.div(we(),"18px"),Fe=F.a.div(Oe(),"18px"),Ke=F.a.div(ke(),"#e21212"),De=function(e){var t=e.span,n=e.lable,a=e.value;return r.a.createElement(re.a,{span:t,className:"",style:{marginBottom:5}},r.a.createElement("h5",{style:{textTransform:"uppercase",color:"rgba(0,0,0,0.25)"}},n),r.a.createElement("p",{style:{textTransform:"capitalize"}},a))};var We=function(){var e,t=Object(l.c)((function(e){return e})),n=Object(l.b)(),o=Object(P.f)(),c=Object(a.useContext)(ze),i=Object(a.useState)(!1),s=Object(y.a)(i,2),m=s[0],d=s[1],f=Object(a.useState)(""),p=Object(y.a)(f,2),h=p[0],E=p[1],b=Object(a.useState)(!0),v=Object(y.a)(b,2),g=v[0],k=v[1],O=Object(a.useState)(!1),w=Object(y.a)(O,2),x=w[0],j=w[1],N=Object(a.useState)(""),L=Object(y.a)(N,2),T=L[0],M=L[1],S=window.location.hash.split("/"),C=function(e){var t=Object(u.useQuery)(he,{variables:{name:e}}),n=t.loading,a=t.error,r=t.data;return n?"Loading...":a?"Error! ".concat(a.message):r.pokemon}(""!==S[S.length-1]?S[S.length-1]:S[S.length-2]);Object(a.useEffect)((function(){c.changeTitle("Pokemon Detail")}),[]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var I=function(){if(""!==h){var e=[{pokemonName:C.name,nickname:h,caughtTime:de()().format("DD MMM YYYY hh:mm:ss")}];n(function(e){return{type:"storeMyPokemonList",data:e}}(e));var a=t.totalOwned;a[C.name]?n(fe(Object(ae.a)({},C.name,a[C.name]+1))):n(fe(Object(ae.a)({},C.name,1))),j(!1)}},_=function(){d(!0),setTimeout((function(){Math.random()<.5?j(!0):oe.a.warning({title:r.a.createElement("h3",null,r.a.createElement("span",{className:"modal-header"},C.name)," fled!"),content:r.a.createElement("div",null,"Better luck next time..."),okText:"OK"}),d(!1)}),2e3)};return m?r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:be.a,className:"loading-img",alt:"loading"})):r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement(le.a,null,r.a.createElement(le.a.Item,null,r.a.createElement(se.a,null),r.a.createElement(q,{onClick:function(){return o.goBack()},id:"breadcrumb"},c.titleBefore)),r.a.createElement(le.a.Item,null,r.a.createElement("span",null,"Pokemon Detail"))),r.a.createElement(ie.a,{gutter:0},r.a.createElement(re.a,{xs:{span:24}},r.a.createElement(Se,null,r.a.createElement(ie.a,{gutter:0},r.a.createElement(re.a,{xs:{span:24},md:{span:12}},r.a.createElement(Te,null,C.sprites&&C.sprites.front_default?r.a.createElement(Me,{src:C.sprites.front_default,alt:"pokemon-front"}):r.a.createElement((function(){return r.a.createElement(Me,{src:ge.a,alt:"not-found"})}),null))),r.a.createElement(re.a,{xs:{span:24},md:{span:12},style:{marginTop:"20px"}},r.a.createElement(De,{lable:"Pokemon Name",value:C.name?C.name:"-"}),r.a.createElement(De,{lable:"Height",value:C.height?"".concat(C.height," inch"):"-"}),r.a.createElement(De,{lable:"Weight",value:C.weight?"".concat(C.weight," gram"):"-"})))))),r.a.createElement(ie.a,{gutter:0},r.a.createElement(re.a,{xs:{span:24},md:{span:12},className:"border-right-default"},r.a.createElement(Se,null,r.a.createElement(ie.a,{gutter:0},r.a.createElement("h2",null,r.a.createElement("strong",null,"Moves"))),r.a.createElement(ie.a,{gutter:0},C.moves?C.moves.map((function(e){return r.a.createElement(re.a,{xs:{span:12}},r.a.createElement(Ce,null,e.move.name))})):""))),r.a.createElement(re.a,{xs:{span:24},md:{span:12},className:"border-right-default"},r.a.createElement(Se,null,r.a.createElement(ie.a,{gutter:0},r.a.createElement("h2",null,r.a.createElement("strong",null,"Types"))),r.a.createElement(ie.a,{gutter:0},C.types?C.types.map((function(e,t){return r.a.createElement(re.a,{xs:{span:24}},r.a.createElement(Ce,null,e.type.name," (slot: ",e.slot,")"))})):"")))),r.a.createElement((function(){return r.a.createElement(Ie,null,r.a.createElement(_e,null,r.a.createElement(Be,null,"Total Owned"),r.a.createElement(Fe,null,t.totalOwned[null===C||void 0===C?void 0:C.name]?t.totalOwned[C.name]:0)),r.a.createElement(Z,{height:10}),r.a.createElement(ce.a,{type:"primary",onClick:_},"Catch Pokemon!"))}),null),r.a.createElement(oe.a,{visible:x,closable:!1,title:r.a.createElement("h3",null,r.a.createElement("span",{className:"modal-header"},C.name)," caught!"),onOk:I,onCancel:function(){return j(!1)},footer:[r.a.createElement(ce.a,{key:"back",onClick:function(){return j(!1)}},"Let it go"),r.a.createElement(ce.a,{key:"submit",type:"primary",loading:m,onClick:I,disabled:g,className:g&&"btn-disabled"},"Save Pokemon")]},r.a.createElement("div",null,r.a.createElement("h4",null,"Input a nickname for your Pokemon"),r.a.createElement(ue.a,{placeholder:"Nickname",onKeyUp:function(n){return function(n){function a(){return(a=Object(R.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=4;break}return M("Nickname must be filled"),k(!0),e.abrupt("return");case 4:a=0;case 5:if(!(a<t.myPokemonList.length)){e.next=13;break}if(t.myPokemonList[a].nickname.toLowerCase().trim()!==n.toLowerCase().trim()){e.next=10;break}return k(!0),M("There is already a pokemon with the same nickname. Please enter a different nickname."),e.abrupt("return");case 10:a++,e.next=5;break;case 13:k(!1),E(n),M("");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}k(!0),e&&(clearTimeout(e),e=null),e=setTimeout((function(){return a.apply(this,arguments)}),300)}(n.target.value)}}),r.a.createElement(Ke,null,T))))},Ye=function(e){return[{title:"Pokemon Name",dataIndex:"pokemonName",key:"pokemonName",render:function(e){return r.a.createElement(N.a,null,r.a.createElement(N.c,{to:"".concat(C.POKEMON,"/detail/").concat(e)},r.a.createElement(A,null,e)))}},{title:"Nickname",dataIndex:"nickname",key:"nickname",render:function(e,t){return r.a.createElement("span",null,e)}},{title:"Caught Time",dataIndex:"caughtTime",key:"caughtTime",render:function(e){return r.a.createElement("span",null,e)}},{title:"",dataIndex:"action",key:"action",render:function(t,n){return r.a.createElement("span",null,r.a.createElement(ce.a,{type:"default",onClick:function(){return e(n)}},"Release"))},align:"right"}]};var Ae=function(e){var t=Object(l.c)((function(e){return e})),n=t.myPokemonList,o=Object(l.b)(),c=Object(a.useContext)(ze);Object(a.useEffect)((function(){c.changeTitle("My Pokemon List")}),[]);var i=function(){var e=Object(R.a)(J.a.mark((function e(a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe.a.confirm({title:r.a.createElement("h3",null,"Are you sure you want to release ",a.nickname," ",r.a.createElement("span",{className:"modal-header"},"[",a.pokemonName,"]")," ?"),content:r.a.createElement("div",null,r.a.createElement("h5",null,a.nickname," will be sad... :(")),onOk:function(){return Object(R.a)(J.a.mark((function e(){var r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n.map((function(e,t){e.nickname===a.nickname&&(r=t)})),n.splice(r,1),o({type:"replaceMyPokemonList",data:n}),(c=t.totalOwned)[a.pokemonName]&&o(fe(Object(ae.a)({},a.pokemonName,c[a.pokemonName]-1)));case 6:case"end":return e.stop()}}),e)})))()},okText:"Bye...",cancelText:"NO!!!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"my-pokemon-list"},r.a.createElement(U.a,{dataSource:n,columns:Ye(i)}))},qe=function(){return r.a.createElement("div",{className:"page-404"},r.a.createElement("h1",null,"Page not found :("),r.a.createElement("h2",null,"Oops! The page you were looking for doesn't exist"),r.a.createElement(N.b,{to:"/",className:"ant-btn ant-btn-primary fluid"},"Back to Pokemon List"))},ze=r.a.createContext({title:"Pokemon List",changeTitle:function(){}});var $e=function(){var e=Object(a.useState)("Pokemon List"),t=Object(y.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)("Pokemon List"),l=Object(y.a)(c,2),i=l[0],u=l[1],s="Pokemon Detail"===n;return r.a.createElement(N.a,null,r.a.createElement(ze.Provider,{value:{title:n,titleBefore:i,changeTitle:function(e){u(n),o(e)}}},r.a.createElement(z,null),r.a.createElement("div",{className:"content"},r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:C.HOME,component:ne}),r.a.createElement(P.a,{exact:!0,path:"".concat(C.POKEMON,"/detail/:name"),component:We}),r.a.createElement(P.a,{exact:!0,path:C.MY_POKEMON_LIST,component:Ae}),r.a.createElement(P.a,{component:qe}))),r.a.createElement($,null),r.a.createElement(Z,{height:s?112:50})))},He=(n(281),n(282),new u.ApolloClient({ssrMode:!0,uri:"https://graphql-pokeapi.vercel.app/api/graphql",cache:new u.InMemoryCache}));c.a.render(r.a.createElement((function(){return r.a.createElement(u.ApolloProvider,{client:He},r.a.createElement(l.a,{store:x},r.a.createElement(i.a,{loading:null,persistor:j},r.a.createElement($e,null))))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/catch-pokemon",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/catch-pokemon","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):m(t,e)}))}}()}},[[202,1,2]]]);
//# sourceMappingURL=main.57f92841.chunk.js.map